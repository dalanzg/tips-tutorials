<!doctype html><html><head><title>How to publish REST Web Service in SAP</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=title content="How to publish REST Web Service in SAP â€“ Tips and Tutorials"><meta name=description content="When SAP Netweaver Gateway is not available, there is an easy way to public custom REST Web Services so other external applications can integrate with SAP."><meta name=generator content="Hugo 0.58.3"><meta property=og:title content="How to publish REST Web Service in SAP"><meta property=og:description content="When SAP Netweaver Gateway is not available, there is an easy way to public custom REST Web Services so other external applications can integrate with SAP."><meta property=og:url content=https://dalanzg.github.io/tips-tutorials/posts/2016/09/25/how-to-publish-rest-web-service-in-sap/><meta property=og:site_name content="Tips and Tutorials"><meta property=og:type content=article><meta property=og:image content=https://dalanzg.github.io/tips-tutorials/posts/2016/09/25/how-to-publish-rest-web-service-in-sap/img/create-service-in-sicf.png><meta property=og:tags content=sap><meta property=article:published_time content=2016-09-25><meta name=twitter:card content=summary_large_image><meta name=twitter:description content="When SAP Netweaver Gateway is not available, there is an easy way to public custom REST Web Services so other external applications can integrate with SAP."><meta name=twitter:title content="How to publish REST Web Service in SAP"><meta name=twitter:site content="Tips and Tutorials"><meta name=twitter:creator content=@dalanzg><meta name=twitter:image content=https://dalanzg.github.io/tips-tutorials/posts/2016/09/25/how-to-publish-rest-web-service-in-sap/img/create-service-in-sicf.png><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"How to publish REST Web Service in SAP","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/dalanzg.github.io\/tips-tutorials\/posts\/2016\/09\/25\/how-to-publish-rest-web-service-in-sap\/"},"image":{"@type":"ImageObject","url":"https:\/\/dalanzg.github.io\/tips-tutorials\/posts\/2016\/09\/25\/how-to-publish-rest-web-service-in-sap\/img\/create-service-in-sicf.png","width":968,"height":636},"genre":"posts","keywords":"sap","wordcount":367,"url":"https:\/\/dalanzg.github.io\/tips-tutorials\/posts\/2016\/09\/25\/how-to-publish-rest-web-service-in-sap\/","datePublished":"2016-09-25","dateModified":"2017-02-12","license":"Copyright. Tips and Tutorials. All rights reserved.","publisher":{"@type":"Organization","name":"Daniel Lanza","logo":{"@type":"ImageObject","url":"https:\/\/dalanzg.github.io\/tips-tutorials\/mstile-150x150.png","width":150,"height":150}},"author":{"@type":"Person","name":"dalanzg"},"description":"When SAP Netweaver Gateway is not available, there is an easy way to public custom REST Web Services so other external applications can integrate with SAP."}</script><link rel=apple-touch-icon sizes=180x180 href=https://dalanzg.github.io/tips-tutorials/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://dalanzg.github.io/tips-tutorials/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://dalanzg.github.io/tips-tutorials/favicon-16x16.png><link rel=manifest href=https://dalanzg.github.io/tips-tutorials/site.webmanifest><link rel=mask-icon href=https://dalanzg.github.io/tips-tutorials/safari-pinned-tab.svg color=#5bbad5><meta name=apple-mobile-web-app-title content="Tips and Tutorials"><meta name=application-name content="Tips and Tutorials"><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><link rel=canonical href=https://dalanzg.github.io/tips-tutorials/posts/2016/09/25/how-to-publish-rest-web-service-in-sap/><link rel=stylesheet href=https://dalanzg.github.io/tips-tutorials/sass/main.min.77de4b0ccb06580f914fbfb467b5f48b84c67d5e08d8a80deda7ebbeb6b30b81.css integrity="sha256-d95LDMsGWA&#43;RT7&#43;0Z7X0i4TGfV4I2KgN7afrvrazC4E="><link rel=sitemap href=https://dalanzg.github.io/tips-tutorials/sitemap.xml title=Sitemap type=application/xml><meta name=google-site-verification content=CeO9J_0wi37-MvDa_F7AmZJYunwDhFGjv8eSlJFPil8><script async src="https://www.googletagmanager.com/gtag/js?id=UA-65400010-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-65400010-1');</script><script data-ad-client=ca-pub-8140733006923933 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><body><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-light"><a class=navbar-brand href=https://dalanzg.github.io/tips-tutorials/><strong>Tips and Tutorials</strong></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=navbar-item><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/about/>About</a></li><li class=navbar-item><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/tags/>Tags</a></li><li class=navbar-item><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/posts/>Posts</a></li></ul><form class="form-inline float-xs-right" action=https://dalanzg.github.io/tips-tutorials/search/ method=get data-search-form><input class="form-control mr-sm-2" type=text name=q placeholder=Search... data-search-input>
<button class="btn btn-outline-success my-2 my-sm-0" type=submit><i class="fas fa-search"></i></button></form></div></nav><h1 class=mt-5>How to publish REST Web Service in SAP</h1><p class="text-muted mt-3"><span>Published on September 25, 2016</span>
<span>by Daniel Lanza</span></p><p><a class=text-muted href=https://dalanzg.github.io/tips-tutorials/tags/sap><i class="fas fa-tags"></i>&nbsp;sap</a></p><p>This tutorial will explain how to publish REST Web Service when SAP Netweaver Gateway is not available.</p><h2 id=exercise>Exercise</h2><p>Go to <a href="http://hostname:port/zrest?myVar=50">http://hostname:port/zrest?myVar=50</a> and the server will respond with the following content:</p><div class=highlight><pre class=chroma><code class=language-json data-lang=json><span class=p>{</span><span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=err>You</span> <span class=err>have</span> <span class=err>entered</span> <span class=err>myVar=</span><span class=mi>50</span> <span class=err>as</span> <span class=err>query</span> <span class=err>parameter.&#34;</span><span class=p>}</span></code></pre></div><p>Be in mind that this content could be JSON or XML format. In this exercise, it is a basic JSON object.</p><h3 id=create-custom-class>Create custom class</h3><p>Firstly, create a class object with IF_HTTP_EXTENSION interface.</p><figure class=text-center><img src=img/create-class-with-if_http_extension-interface.png class="figure-img img-fluid rounded" alt="Create custom class with IF_HTTP_EXTENSION interface" width=500><figcaption class=figure-caption>Create custom class with IF_HTTP_EXTENSION interface</figcaption></figure><p>Implement the method IF_HTTP_EXTENSION~HANDLE_REQUEST, where you will have the <strong>server</strong> parameter. There, the query parameter will be read from the request and the response will be set in JSON format.</p><div class=highlight><pre class=chroma><code class=language-abap data-lang=abap>method IF_HTTP_EXTENSION~HANDLE_REQUEST.

  DATA: lt_fields             TYPE tihttpnvp,
        lv_header_query       TYPE string,
        lv_html               TYPE string.

  FIELD-SYMBOLS: &lt;fs_field&gt;       LIKE LINE OF lt_fields.

*&#34; get HEADER fields
  server-&gt;request-&gt;get_header_fields(
      CHANGING
        fields = lt_fields    &#34; Header fields
    ).

  &#34; Read the fields table and look for name &#34;~query_string&#34; -- this will contain the URL query
  READ TABLE lt_fields
    WITH KEY name = &#39;~query_string&#39;
    ASSIGNING &lt;fs_field&gt;.
  IF sy-subrc EQ 0.
    CONCATENATE &#39;{&#34;message&#34;: &#34;You have entered&#39;
                &lt;fs_field&gt;-value
                &#39;as query parameter.&#34;}&#39;
           INTO lv_html SEPARATED BY space.

*&#34; Output to HTML
    server-&gt;response-&gt;set_cdata(
      EXPORTING
        data   = lv_html    &#34; Character data
*        offset = 0    &#34; Offset into character data
*        length = -1    &#34; Length of character data
    ).
  ENDIF.

endmethod.</code></pre></div><h3 id=create-service-in-sicf>Create service in SICF</h3><p>We need to expose the handler as a service, so go to <strong>SICF</strong> transaction, and add a new service in <strong>default_host</strong>.</p><figure class=text-center><img src=img/create-service-in-sicf.png class="figure-img img-fluid rounded" alt="Create a new service in SICF" width=500><figcaption class=figure-caption>Create a new service in SICF</figcaption></figure><p>In this service, a communication user is needed. It is recommended that the user is a service user instead of a dialog user.</p><p>If a user is not specified, authentication dialog will request when performing the REST Web Service request.</p><figure class=text-center><img src=img/set-communication-user-for-service.png class="figure-img img-fluid rounded" alt="Set communication user for service" width=500><figcaption class=figure-caption>Set communication user for service</figcaption></figure><p>And finally, add the custom class as handler.</p><figure class=text-center><img src=img/set-handler-for-service.png class="figure-img img-fluid rounded" alt="Set handler for service" width=500><figcaption class=figure-caption>Set handler for service</figcaption></figure><h3 id=test-your-service>Test your service</h3><p>A new service with <strong>ZREST</strong> name was created in <strong>default_host</strong>, so the URL to test is the following:</p><ul><li><a href=http://hostname:port/zrest?queryParameter>http://hostname:port/zrest?queryParameter</a></li></ul><p>Firstly, right click on the service and select Test service. Your default browser will be launched with your SAP Client.</p><figure class=text-center><img src=img/test-service-from-sicf.png class="figure-img img-fluid rounded" alt="Test service from SICF" width=500><figcaption class=figure-caption>Test service from SICF</figcaption></figure><p>Change the query parameter and type anything. The response will be updated.</p><figure class=text-center><img src=img/test-service-with-other-query-parameter.png class="figure-img img-fluid rounded" alt="Test service with other query parameter" width=500><figcaption class=figure-caption>Test service with other query parameter</figcaption></figure><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"tips-tutorials"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center">Previous Post:
<a href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/16/how-to-fill-flight-model-in-sap-netweaver-abap-trial-7.03-sp04/>How to fill flight model in SAP Netweaver ABAP Trial 7.03 SP04</a></div><div class="col-md-6 text-center">Next Post:
<a href=https://dalanzg.github.io/tips-tutorials/posts/2016/09/29/how-to-test-rest-http-client-with-sap-report/>How to test REST Http Client with SAP report</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/16/how-to-fill-flight-model-in-sap-netweaver-abap-trial-7.03-sp04/>How to fill flight model in SAP Netweaver ABAP Trial 7.03 SP04</a></p><p class="font-weight-light mt-3">This tutorial will explain how to fill flight model in SAP Netweaver.
Flight model Table Description Keys T000 Client client SCURX Currencies currency SBUSPART Business partner client, partner number STRAVELAG Travel agencies client, travel agency number SCUSTOM Customers client, customer number SCARR Carriers client, carrier ID SCOUNTER Sales counters client, carrier ID, sales counter number SPFLI Flight schedule client, carrier ID, connection number SFLIGHT Flights client, carrier ID, connection number, date of flight SBOOK Flight bookings client, carrier ID, connection number, date of flight, booking number, customer number Run the following report in SE38 transaction:</p><a href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/16/how-to-fill-flight-model-in-sap-netweaver-abap-trial-7.03-sp04/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/14/how-to-enable-soamanager-in-sap-netweaver-abap-trial-7.03-sp04/>How to enable SOAMANAGER in SAP Netweaver ABAP Trial 7.03 SP04</a></p><p class="font-weight-light mt-3">This tutorial will explain how to enable SOAMANAGER in SAP Netweaver ABAP Trial 7.03.
Requirements A virtual machine with:
Windows 7 and SAP Netweaver ABAP Trial Web GUI for SAP Netweaver enabled Issue When accessing SOAMANAGER, error code 403 turns up.
Error code 403 SOAMANAGER If we get error code 500, check Web GUI for Netweaver works properly. It is explained in the installation post
Solution Go to SICF transaction, and activate the following service:</p><a href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/14/how-to-enable-soamanager-in-sap-netweaver-abap-trial-7.03-sp04/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/12/how-to-install-sap-netweaver-abap-trial-7.03-sp04-on-windows-7/>How to install SAP Netweaver ABAP Trial 7.03 SP04 on Windows 7</a></p><p class="font-weight-light mt-3">This tutorial will explain how to install SAP Netweaver ABAP Trial 7.03 in a virtual machine.
Requirements A virtual machine with:
Windows 7 At least 4 GB RAM 80 GB hard disk space temporary during installation - 36 GB permanent. The faster the better Other things:
Java JRE 1.5 installer A SCN account SAP Netweaver ABAP Trial 7.03 SP04 installer Steps Add Microsoft Loopback Adapter Install Java JRE Install SAP Netweaver Install a trial license key Enable Web GUI for SAP Netweaver Add Microsoft Loopback Adapter A network adapter with static IP address is needed.</p><a href=https://dalanzg.github.io/tips-tutorials/posts/2016/07/12/how-to-install-sap-netweaver-abap-trial-7.03-sp04-on-windows-7/ class="btn btn-primary">Read more</a></div></div></div></div><footer class=blog-footer><p><nav class="nav justify-content-center"><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/index.xml target=_blank><i class="fas fa-rss-square fa-2x"></i></a><a class=nav-link href=https://twitter.com/dalanzg target=_blank><i class="fab fa-twitter fa-2x"></i></a><a class=nav-link href=https://github.com/dalanzg target=_blank><i class="fab fa-github fa-2x"></i></a><a class=nav-link href=https://www.linkedin.com/in/danilanza target=_blank><i class="fab fa-linkedin fa-2x"></i></a></nav></p><p class=text-muted>Copyright &copy; Tips and Tutorials 2019</p><p class=text-muted><small>All rights reserved. Blog powered by <a href=https://gohugo.io/>Hugo</a> and hosted on <a href=https://www.github.com>GitHub.</a></small></p><p class=text-muted><small><a href=https://opensource.org/licenses/MIT>MIT License</a></small></p></footer><script src=https://dalanzg.github.io/tips-tutorials/js/bundle.min.a09504d8c722a5b8f0c5ae38c1f096fc32fec98ce6b1eec1f74821c940876052.js></script></body></html>