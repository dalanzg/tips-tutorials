<!doctype html><html><head><title>How to zip a folder and unzip a Zip file in Java</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=title content="How to zip a folder and unzip a Zip file in Java â€“ Tips and Tutorials"><meta name=description content="A folder with subfolders and files will be zipped. Besides, the zip file will be unzipped. All of this by Java."><meta name=generator content="Hugo 0.58.2"><meta property=og:title content="How to zip a folder and unzip a Zip file in Java"><meta property=og:description content="A folder with subfolders and files will be zipped. Besides, the zip file will be unzipped. All of this by Java."><meta property=og:url content=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-zip-a-folder-and-unzip-a-zip-file-in-java/><meta property=og:site_name content="Tips and Tutorials"><meta property=og:type content=article><meta property=og:image content=https://dalanzg.github.io/tips-tutorials/android-chrome-512x512.png><meta property=og:tags content=java><meta property=article:published_time content=2016-03-22><meta name=twitter:card content=summary_large_image><meta name=twitter:description content="A folder with subfolders and files will be zipped. Besides, the zip file will be unzipped. All of this by Java."><meta name=twitter:title content="How to zip a folder and unzip a Zip file in Java"><meta name=twitter:site content="Tips and Tutorials"><meta name=twitter:creator content=@dalanzg><meta name=twitter:image content=https://dalanzg.github.io/tips-tutorials/android-chrome-512x512.png><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"How to zip a folder and unzip a Zip file in Java","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/dalanzg.github.io\/tips-tutorials\/posts\/2016\/03\/22\/how-to-zip-a-folder-and-unzip-a-zip-file-in-java\/"},"image":{"@type":"ImageObject","url":"https:\/\/dalanzg.github.io\/tips-tutorials\/mstile-150x150.png","width":150,"height":150},"genre":"posts","keywords":"java","wordcount":588,"url":"https:\/\/dalanzg.github.io\/tips-tutorials\/posts\/2016\/03\/22\/how-to-zip-a-folder-and-unzip-a-zip-file-in-java\/","datePublished":"2016-03-22","dateModified":"2016-12-27","license":"Copyright. Tips and Tutorials. All rights reserved.","publisher":{"@type":"Organization","name":"Daniel Lanza","logo":{"@type":"ImageObject","url":"https:\/\/dalanzg.github.io\/tips-tutorials\/mstile-150x150.png","width":150,"height":150}},"author":{"@type":"Person","name":"dalanzg"},"description":"A folder with subfolders and files will be zipped. Besides, the zip file will be unzipped. All of this by Java."}</script><link rel=apple-touch-icon sizes=180x180 href=https://dalanzg.github.io/tips-tutorials/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://dalanzg.github.io/tips-tutorials/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://dalanzg.github.io/tips-tutorials/favicon-16x16.png><link rel=manifest href=https://dalanzg.github.io/tips-tutorials/site.webmanifest><link rel=mask-icon href=https://dalanzg.github.io/tips-tutorials/safari-pinned-tab.svg color=#5bbad5><meta name=apple-mobile-web-app-title content="Tips and Tutorials"><meta name=application-name content="Tips and Tutorials"><meta name=msapplication-TileColor content=#da532c><meta name=theme-color content=#ffffff><link rel=canonical href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-zip-a-folder-and-unzip-a-zip-file-in-java/><link rel=stylesheet href=https://dalanzg.github.io/tips-tutorials/sass/main.min.d494ae3ef0488c68688834a207c4430e63613de3c8d78d9d8c0b18df15607896.css integrity="sha256-1JSuPvBIjGhoiDSiB8RDDmNhPePI142djAsY3xVgeJY="><link rel=sitemap href=https://dalanzg.github.io/tips-tutorials/sitemap.xml title=Sitemap type=application/xml><meta name=google-site-verification content=CeO9J_0wi37-MvDa_F7AmZJYunwDhFGjv8eSlJFPil8><script async src="https://www.googletagmanager.com/gtag/js?id=UA-65400010-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-65400010-1');</script><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-8140733006923933",enable_page_level_ads:true});</script></head><body><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-light"><a class=navbar-brand href=https://dalanzg.github.io/tips-tutorials/><strong>Tips and Tutorials</strong></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=navbar-item><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/about/>About</a></li><li class=navbar-item><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/tags/>Tags</a></li><li class=navbar-item><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/posts/>Posts</a></li></ul><form class="form-inline float-xs-right" action=https://dalanzg.github.io/tips-tutorials/search/ method=get data-search-form><input class="form-control mr-sm-2" type=text name=q placeholder=Search... data-search-input>
<button class="btn btn-outline-success my-2 my-sm-0" type=submit><i class="fas fa-search"></i></button></form></div></nav><h1 class=mt-5>How to zip a folder and unzip a Zip file in Java</h1><p class="text-muted mt-3"><span>Published on March 22, 2016</span>
<span>by Daniel Lanza</span></p><p><a class=text-muted href=https://dalanzg.github.io/tips-tutorials/tags/java><i class="fas fa-tags"></i>&nbsp;java</a></p><p>A folder with subfolders and files will be zipped. Besides, the zip file will be unzipped.</p><h2 id=zip-directory-java-class>Zip directory Java class</h2><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>package</span> <span class=nf>com</span><span class=p>.</span><span class=na>dalanz</span><span class=p>.</span><span class=na>file</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>io</span><span class=p>.</span><span class=na>File</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>io</span><span class=p>.</span><span class=na>FileInputStream</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>io</span><span class=p>.</span><span class=na>FileOutputStream</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>io</span><span class=p>.</span><span class=na>IOException</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>ArrayList</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>zip</span><span class=p>.</span><span class=na>ZipEntry</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>zip</span><span class=p>.</span><span class=na>ZipInputStream</span><span class=p>;</span>
<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>zip</span><span class=p>.</span><span class=na>ZipOutputStream</span><span class=p>;</span>

<span class=kd>public</span> <span class=nf>class</span> <span class=n>ZipDirectory</span> <span class=p>{</span>

    <span class=kd>private</span> <span class=nf>String</span> <span class=n>folderPath</span><span class=p>;</span>
    <span class=kd>private</span> <span class=nf>String</span> <span class=n>zipPath</span><span class=p>;</span>

    <span class=kd>private</span> <span class=nf>static</span> <span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=nf>fileList</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
    <span class=kd>private</span> <span class=nf>static</span> <span class=n>String</span> <span class=nf>sourceFolder</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>

    <span class=kd>public</span> <span class=nf>String</span> <span class=n>getFolderPath</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>folderPath</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>void</span> <span class=n>setFolderPath</span><span class=p>(</span><span class=n>String</span> <span class=nf>folderPath</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=na>folderPath</span> <span class=o>=</span> <span class=n>folderPath</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>String</span> <span class=n>getZipPath</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>zipPath</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>void</span> <span class=n>setZipPath</span><span class=p>(</span><span class=n>String</span> <span class=nf>zipPath</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=na>zipPath</span> <span class=o>=</span> <span class=n>zipPath</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>ZipDirectory</span><span class=p>(){}</span>

    <span class=kd>public</span> <span class=nf>ZipDirectory</span><span class=p>(</span><span class=n>String</span> <span class=nf>folderPath</span><span class=p>,</span> <span class=n>String</span> <span class=nf>zipPath</span><span class=p>){</span>
        <span class=k>this</span><span class=p>.</span><span class=na>folderPath</span> <span class=o>=</span> <span class=n>folderPath</span><span class=p>;</span>
        <span class=k>this</span><span class=p>.</span><span class=na>zipPath</span> <span class=o>=</span> <span class=n>zipPath</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>ZipDirectory</span><span class=p>(</span><span class=n>String</span> <span class=nf>zipPath</span><span class=p>){</span>
        <span class=k>this</span><span class=p>.</span><span class=na>zipPath</span> <span class=o>=</span> <span class=n>zipPath</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>boolean</span> <span class=n>zip</span><span class=p>()</span> <span class=kd>throws</span> <span class=nf>IOException</span><span class=p>{</span>

        <span class=kt>byte</span><span class=p>[]</span> <span class=nf>buffer</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>byte</span><span class=p>[</span><span class=n>1024</span><span class=p>];</span>

        <span class=n>FileInputStream</span> <span class=nf>fis</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
        <span class=n>ZipOutputStream</span> <span class=nf>zos</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>

        <span class=n>fileList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>();</span>

        <span class=k>try</span><span class=p>{</span>
            <span class=n>zos</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ZipOutputStream</span><span class=p>(</span><span class=k>new</span> <span class=n>FileOutputStream</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=na>zipPath</span><span class=p>));</span>
            <span class=n>updateSourceFolder</span><span class=p>(</span><span class=k>new</span> <span class=n>File</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=na>folderPath</span><span class=p>));</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>sourceFolder</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>zos</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
                <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>generateFileAndFolderList</span><span class=p>(</span><span class=k>new</span> <span class=n>File</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=na>folderPath</span><span class=p>));</span>

            <span class=k>for</span> <span class=p>(</span><span class=n>String</span> <span class=nf>unzippedFile</span><span class=o>:</span> <span class=n>fileList</span><span class=p>)</span> <span class=p>{</span>

                <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>sourceFolder</span> <span class=o>+</span> <span class=n>unzippedFile</span><span class=p>);</span>

                <span class=n>ZipEntry</span> <span class=nf>entry</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ZipEntry</span><span class=p>(</span><span class=n>unzippedFile</span><span class=p>);</span>
                <span class=n>zos</span><span class=p>.</span><span class=na>putNextEntry</span><span class=p>(</span><span class=n>entry</span><span class=p>);</span>

                <span class=k>if</span> <span class=p>((</span><span class=n>unzippedFile</span><span class=p>.</span><span class=na>substring</span><span class=p>(</span><span class=n>unzippedFile</span><span class=p>.</span><span class=na>length</span><span class=p>()</span><span class=o>-</span><span class=n>1</span><span class=p>)).</span><span class=na>equals</span><span class=p>(</span><span class=n>File</span><span class=p>.</span><span class=na>separator</span><span class=p>))</span>
                    <span class=k>continue</span><span class=p>;</span>

                <span class=k>try</span><span class=p>{</span>
                    <span class=n>fis</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FileInputStream</span><span class=p>(</span><span class=n>sourceFolder</span> <span class=o>+</span> <span class=n>unzippedFile</span><span class=p>);</span>

                    <span class=kt>int</span> <span class=nf>len</span><span class=o>=</span><span class=n>0</span><span class=p>;</span>
                    <span class=k>while</span> <span class=p>((</span><span class=n>len</span> <span class=o>=</span> <span class=n>fis</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>buffer</span><span class=p>))</span><span class=o>&gt;</span><span class=n>0</span><span class=p>)</span> <span class=p>{</span>
                        <span class=n>zos</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span><span class=n>0</span><span class=p>,</span><span class=n>len</span><span class=p>);</span>
                    <span class=p>}</span>
                <span class=p>}</span><span class=k>catch</span><span class=p>(</span><span class=n>IOException</span> <span class=nf>e</span><span class=p>){</span>

                    <span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
                    <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>

                <span class=p>}</span><span class=k>finally</span><span class=p>{</span>

                    <span class=k>if</span> <span class=p>(</span><span class=n>fis</span><span class=o>!=</span><span class=kc>null</span><span class=p>)</span>
                        <span class=n>fis</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=n>zos</span><span class=p>.</span><span class=na>closeEntry</span><span class=p>();</span>

        <span class=p>}</span><span class=k>catch</span><span class=p>(</span><span class=n>IOException</span> <span class=nf>e</span><span class=p>){</span>

            <span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
            <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>

        <span class=p>}</span><span class=k>finally</span><span class=p>{</span>

            <span class=n>zos</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
            <span class=n>fileList</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
            <span class=n>sourceFolder</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=nf>boolean</span> <span class=n>unzip</span><span class=p>()</span> <span class=kd>throws</span> <span class=nf>IOException</span><span class=p>{</span>

        <span class=kt>byte</span><span class=p>[]</span> <span class=nf>buffer</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>byte</span><span class=p>[</span><span class=n>1024</span><span class=p>];</span>

        <span class=n>ZipInputStream</span> <span class=nf>zis</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
        <span class=n>ZipEntry</span> <span class=nf>entry</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
        <span class=n>FileOutputStream</span> <span class=nf>fos</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>

        <span class=n>fileList</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>();</span>

        <span class=k>try</span> <span class=p>{</span>

            <span class=n>File</span> <span class=nf>file</span> <span class=o>=</span> <span class=k>new</span> <span class=n>File</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=na>zipPath</span><span class=p>);</span>
            <span class=n>zis</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ZipInputStream</span><span class=p>(</span><span class=k>new</span> <span class=n>FileInputStream</span><span class=p>(</span><span class=n>file</span><span class=p>));</span>

            <span class=k>while</span><span class=p>((</span><span class=n>entry</span> <span class=o>=</span> <span class=n>zis</span><span class=p>.</span><span class=na>getNextEntry</span><span class=p>())</span><span class=o>!=</span> <span class=kc>null</span><span class=p>){</span>

                <span class=n>String</span> <span class=nf>dir</span> <span class=o>=</span> <span class=n>entry</span><span class=p>.</span><span class=na>getName</span><span class=p>();</span>

                <span class=k>try</span><span class=p>{</span>

                    <span class=n>String</span> <span class=nf>fileSeparator</span> <span class=o>=</span> <span class=n>dir</span><span class=p>.</span><span class=na>substring</span><span class=p>(</span><span class=n>dir</span><span class=p>.</span><span class=na>length</span><span class=p>()</span><span class=o>-</span><span class=n>1</span><span class=p>);</span>

                    <span class=kt>boolean</span> <span class=nf>isFolder</span><span class=o>=</span><span class=p>(</span><span class=n>fileSeparator</span><span class=p>.</span><span class=na>equals</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>)</span> <span class=o>||</span> <span class=n>fileSeparator</span><span class=p>.</span><span class=na>equals</span><span class=p>(</span><span class=s>&#34;\\&#34;</span><span class=p>));</span>

                    <span class=k>if</span> <span class=p>(</span><span class=n>isFolder</span><span class=p>){</span>

                        <span class=n>dir</span> <span class=o>=</span> <span class=n>dir</span><span class=p>.</span><span class=na>substring</span><span class=p>(</span><span class=n>0</span><span class=p>,</span><span class=n>dir</span><span class=p>.</span><span class=na>lastIndexOf</span><span class=p>(</span><span class=n>fileSeparator</span><span class=p>)</span><span class=o>+</span><span class=n>1</span><span class=p>);</span>
                        <span class=n>dir</span> <span class=o>=</span> <span class=p>(</span><span class=n>file</span><span class=p>.</span><span class=na>getParent</span><span class=p>()</span> <span class=o>==</span> <span class=kc>null</span><span class=o>?</span> <span class=s>&#34;&#34;</span><span class=o>:</span><span class=n>file</span><span class=p>.</span><span class=na>getParent</span><span class=p>()</span><span class=o>+</span> <span class=n>File</span><span class=p>.</span><span class=na>separator</span><span class=p>)</span> <span class=o>+</span> <span class=n>dir</span><span class=p>;</span>

                        <span class=p>(</span><span class=k>new</span> <span class=n>File</span><span class=p>(</span><span class=n>dir</span><span class=p>)).</span><span class=na>mkdirs</span><span class=p>();</span>

                        <span class=k>continue</span><span class=p>;</span>

                    <span class=p>}</span>

                <span class=p>}</span><span class=k>catch</span><span class=p>(</span><span class=n>Exception</span> <span class=nf>e</span><span class=p>){}</span><span class=k>finally</span><span class=p>{}</span>

                <span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=s>&#34;dir:&#34;</span> <span class=o>+</span> <span class=n>dir</span><span class=p>);</span>

                <span class=n>fos</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FileOutputStream</span><span class=p>((</span><span class=n>file</span><span class=p>.</span><span class=na>getParent</span><span class=p>()</span> <span class=o>==</span> <span class=kc>null</span><span class=o>?</span> <span class=s>&#34;&#34;</span><span class=o>:</span><span class=n>file</span><span class=p>.</span><span class=na>getParent</span><span class=p>()</span><span class=o>+</span> <span class=n>File</span><span class=p>.</span><span class=na>separator</span><span class=p>)</span> <span class=o>+</span> <span class=n>entry</span><span class=p>.</span><span class=na>getName</span><span class=p>());</span>

                <span class=kt>int</span> <span class=nf>len</span><span class=o>=</span><span class=n>0</span><span class=p>;</span>
                <span class=k>while</span> <span class=p>((</span><span class=n>len</span> <span class=o>=</span> <span class=n>zis</span><span class=p>.</span><span class=na>read</span><span class=p>(</span><span class=n>buffer</span><span class=p>))</span><span class=o>&gt;</span><span class=n>0</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>fos</span><span class=p>.</span><span class=na>write</span><span class=p>(</span><span class=n>buffer</span><span class=p>,</span><span class=n>0</span><span class=p>,</span><span class=n>len</span><span class=p>);</span>
                <span class=p>}</span>
                <span class=n>fos</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=n>zis</span><span class=p>.</span><span class=na>close</span><span class=p>();</span>

            <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>

        <span class=p>}</span><span class=k>catch</span> <span class=p>(</span><span class=n>IOException</span> <span class=nf>ioe</span><span class=p>){</span>

            <span class=n>ioe</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
            <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>

        <span class=p>}</span><span class=k>finally</span><span class=p>{</span>

            <span class=n>fileList</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
            <span class=n>sourceFolder</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=c1>//Fills filesList with file name and their paths
</span><span class=c1></span>    <span class=kd>private</span> <span class=nf>void</span> <span class=n>generateFileAndFolderList</span><span class=p>(</span><span class=n>File</span> <span class=nf>node</span><span class=p>){</span>

        <span class=c1>// Add file only
</span><span class=c1></span>        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>isFile</span><span class=p>()){</span>

            <span class=n>fileList</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>generateZipEntry</span><span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>getAbsoluteFile</span><span class=p>().</span><span class=na>toString</span><span class=p>()));</span>
        <span class=p>}</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>isDirectory</span><span class=p>()){</span>

            <span class=n>String</span> <span class=nf>dir</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>getAbsoluteFile</span><span class=p>().</span><span class=na>toString</span><span class=p>();</span>
            <span class=n>fileList</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>dir</span><span class=p>.</span><span class=na>substring</span><span class=p>(</span><span class=n>sourceFolder</span><span class=p>.</span><span class=na>length</span><span class=p>(),</span> <span class=n>dir</span><span class=p>.</span><span class=na>length</span><span class=p>())</span> <span class=o>+</span> <span class=n>File</span><span class=p>.</span><span class=na>separator</span><span class=p>);</span>

            <span class=n>String</span><span class=p>[]</span> <span class=nf>subNode</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>list</span><span class=p>();</span>
            <span class=k>for</span> <span class=p>(</span><span class=n>String</span> <span class=nf>fileOrFolderName</span> <span class=o>:</span> <span class=n>subNode</span><span class=p>){</span>

                <span class=n>generateFileAndFolderList</span><span class=p>(</span><span class=k>new</span> <span class=n>File</span><span class=p>(</span><span class=n>node</span><span class=p>,</span> <span class=n>fileOrFolderName</span><span class=p>));</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=c1>//Generate file name based on source folder
</span><span class=c1></span>    <span class=kd>private</span> <span class=nf>String</span> <span class=n>generateZipEntry</span><span class=p>(</span><span class=n>String</span> <span class=nf>file</span><span class=p>){</span>

        <span class=k>return</span> <span class=n>file</span><span class=p>.</span><span class=na>substring</span><span class=p>(</span><span class=n>sourceFolder</span><span class=p>.</span><span class=na>length</span><span class=p>(),</span> <span class=n>file</span><span class=p>.</span><span class=na>length</span><span class=p>());</span>
    <span class=p>}</span>

    <span class=c1>//Updates source folder based on source type: File or Folder
</span><span class=c1></span>    <span class=kd>private</span> <span class=nf>void</span> <span class=n>updateSourceFolder</span><span class=p>(</span><span class=n>File</span> <span class=nf>node</span><span class=p>){</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>node</span><span class=p>.</span><span class=na>isFile</span><span class=p>()</span> <span class=o>||</span> <span class=n>node</span><span class=p>.</span><span class=na>isDirectory</span><span class=p>()){</span>

            <span class=n>String</span> <span class=nf>sf</span> <span class=o>=</span> <span class=n>node</span><span class=p>.</span><span class=na>getAbsoluteFile</span><span class=p>().</span><span class=na>toString</span><span class=p>();</span>

            <span class=n>sourceFolder</span> <span class=o>=</span> <span class=n>sf</span><span class=p>.</span><span class=na>substring</span><span class=p>(</span><span class=n>0</span><span class=p>,(</span><span class=n>sf</span><span class=p>.</span><span class=na>lastIndexOf</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>)</span><span class=o>&gt;</span><span class=n>0</span><span class=o>?</span><span class=n>sf</span><span class=p>.</span><span class=na>lastIndexOf</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>)</span><span class=o>:</span><span class=n>sf</span><span class=p>.</span><span class=na>lastIndexOf</span><span class=p>(</span><span class=s>&#34;\\&#34;</span><span class=p>)));</span>
            <span class=n>sourceFolder</span> <span class=o>+=</span> <span class=n>File</span><span class=p>.</span><span class=na>separator</span><span class=p>;</span>

        <span class=p>}</span> <span class=k>else</span>
            <span class=n>sourceFolder</span><span class=o>=</span><span class=kc>null</span><span class=p>;</span><span class=c1>//the file does not exists
</span><span class=c1></span>    <span class=p>}</span>
<span class=p>}</span></code></pre></div><h2 id=main-class-to-zip-a-folder>Main class to zip a folder</h2><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>package</span> <span class=nf>test</span><span class=p>.</span><span class=na>com</span><span class=p>.</span><span class=na>dalanz</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>io</span><span class=p>.</span><span class=na>IOException</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>com</span><span class=p>.</span><span class=na>dalanz</span><span class=p>.</span><span class=na>file</span><span class=p>.</span><span class=o>*</span><span class=p>;</span>

<span class=kd>public</span> <span class=nf>class</span> <span class=n>test</span> <span class=p>{</span>

    <span class=kd>public</span> <span class=nf>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=p>[]</span> <span class=nf>args</span><span class=p>)</span> <span class=p>{</span>

        <span class=n>String</span> <span class=nf>fileDirectory</span> <span class=o>=</span> <span class=s>&#34;/Users/dlanza/Desktop/Test&#34;</span><span class=p>;</span>
        <span class=n>String</span> <span class=nf>zipDirectory</span> <span class=o>=</span> <span class=s>&#34;/Users/dlanza/Desktop/Test.zip&#34;</span><span class=p>;</span>

        <span class=n>ZipDirectory</span> <span class=nf>zip</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ZipDirectory</span> <span class=p>(</span><span class=n>fileDirectory</span><span class=p>,</span> <span class=n>zipDirectory</span><span class=p>);</span>

        <span class=k>try</span> <span class=p>{</span>
            <span class=n>zip</span><span class=p>.</span><span class=na>zip</span><span class=p>();</span>
        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=n>IOException</span> <span class=nf>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span></code></pre></div><h2 id=output>Output</h2><div class=highlight><pre class=chroma><code class=language-terminal data-lang=terminal>/Users/dlanza/Desktop/Test/
/Users/dlanza/Desktop/Test/.DS_Store
/Users/dlanza/Desktop/Test/Folder 1/
/Users/dlanza/Desktop/Test/Folder 1/.DS_Store
/Users/dlanza/Desktop/Test/Folder 1/Folder 1.1/
/Users/dlanza/Desktop/Test/Folder 1/Folder 1.1/.DS_Store
/Users/dlanza/Desktop/Test/Folder 1/Folder 1.1/Test.rtf
/Users/dlanza/Desktop/Test/Folder 2/
/Users/dlanza/Desktop/Test/Folder 2/.DS_Store
/Users/dlanza/Desktop/Test/Folder 2/Folder 2.1/
/Users/dlanza/Desktop/Test/Folder 2/Folder 2.1/.DS_Store
/Users/dlanza/Desktop/Test/Folder 2/Folder 2.1/Test.rtf
/Users/dlanza/Desktop/Test/Folder 2/Folder 2.2/
/Users/dlanza/Desktop/Test/Folder 2/Folder 2.2/.DS_Store
/Users/dlanza/Desktop/Test/Folder 2/Folder 2.2/Test.rtf
/Users/dlanza/Desktop/Test/Test.rtf</code></pre></div><h2 id=main-class-to-unzip-a-zip-file>Main class to unzip a zip file</h2><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>package</span> <span class=nf>test</span><span class=p>.</span><span class=na>com</span><span class=p>.</span><span class=na>dalanz</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>java</span><span class=p>.</span><span class=na>io</span><span class=p>.</span><span class=na>IOException</span><span class=p>;</span>

<span class=kn>import</span> <span class=nf>com</span><span class=p>.</span><span class=na>dalanz</span><span class=p>.</span><span class=na>file</span><span class=p>.</span><span class=o>*</span><span class=p>;</span>

<span class=kd>public</span> <span class=nf>class</span> <span class=n>test</span> <span class=p>{</span>

    <span class=kd>public</span> <span class=nf>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=p>[]</span> <span class=nf>args</span><span class=p>)</span> <span class=p>{</span>

        <span class=n>String</span> <span class=nf>zipDirectory</span> <span class=o>=</span> <span class=s>&#34;/Users/dlanza/Desktop/Test.zip&#34;</span><span class=p>;</span>

        <span class=n>ZipDirectory</span> <span class=nf>zip</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ZipDirectory</span> <span class=p>(</span><span class=n>zipDirectory</span><span class=p>);</span>

        <span class=k>try</span> <span class=p>{</span>
            <span class=n>zip</span><span class=p>.</span><span class=na>unzip</span><span class=p>();</span>
        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=n>IOException</span> <span class=nf>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>e</span><span class=p>.</span><span class=na>printStackTrace</span><span class=p>();</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span></code></pre></div><h2 id=output-1>Output</h2><div class=highlight><pre class=chroma><code class=language-terminal data-lang=terminal>dir:Test/.DS_Store
dir:Test/Folder 1/.DS_Store
dir:Test/Folder 1/Folder 1.1/.DS_Store
dir:Test/Folder 1/Folder 1.1/Test.rtf
dir:Test/Folder 2/.DS_Store
dir:Test/Folder 2/Folder 2.1/.DS_Store
dir:Test/Folder 2/Folder 2.1/Test.rtf
dir:Test/Folder 2/Folder 2.2/.DS_Store
dir:Test/Folder 2/Folder 2.2/Test.rtf
dir:Test/Test.rtf</code></pre></div><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"tips-tutorials"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center">Previous Post:
<a href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-convert-file-into-array-of-bytes-and-array-of-bytes-to-file-in-java/>How to convert File into Array of Bytes, and Array of Bytes to File in Java</a></div><div class="col-md-6 text-center">Next Post:
<a href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/23/how-to-convert-java-object-to-json-and-json-to-java-object-with-gson/>How to convert Java object to JSON and JSON to Java object with Gson</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-convert-file-into-array-of-bytes-and-array-of-bytes-to-file-in-java/>How to convert File into Array of Bytes, and Array of Bytes to File in Java</a></p><p class="font-weight-light mt-3">Array of bytes will be calculated from a file, and then, that array of bytes will be used to create a file with different filename.
Array of bytes Java class package com.dalanz.file; import java.io.File; import java.io.FileInputStream; import java.io.FileOutputStream; public class ArrayBytesFile { // Attributes private File file; private byte[] bFile; // Constructors public ArrayBytesFile() { this.file = null; this.bFile = null; } public ArrayBytesFile (File file) { this.</p><a href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-convert-file-into-array-of-bytes-and-array-of-bytes-to-file-in-java/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-get-md5-checksum-for-a-file-in-java/>How to get MD5 checksum for a file in Java</a></p><p class="font-weight-light mt-3">MD5 checksum is a 128-bit hash value (32 digit hexadecimal number). This works as a fingerprint for a file which let us compare together other files to find out duplicate files.
These Java classes will let us calculate MD5 checksum for any single file.
Maven dependencies &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; MD5 Java class package com.dalanz.file; import java.io.File; import java.io.FileInputStream; import java.io.IOException; import org.</p><a href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/22/how-to-get-md5-checksum-for-a-file-in-java/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/21/how-to-set-java_home-on-mac-os-x/>How to set JAVA_HOME on Mac OS X</a></p><p class="font-weight-light mt-3">If you are planing to develop Java Apps on your Mac, you may have to set $JAVA_HOME environment variable.
Install the latest Java Virtual Machine Go to How to install JDK on Mac OS X) to install a new Java Virtual Machine. Download the latest Java JDK package from Oracle.
Check Java Virtual Machines List directories in the following root -&gt; /Library/Java/JavaVirtualMachines
$ ls -l /Library/Java/JavaVirtualMachines drwxr-xr-x 3 root wheel 102 23 dic 20:36 jdk1.</p><a href=https://dalanzg.github.io/tips-tutorials/posts/2016/03/21/how-to-set-java_home-on-mac-os-x/ class="btn btn-primary">Read more</a></div></div></div></div><footer class=blog-footer><p><nav class="nav justify-content-center"><a class=nav-link href=https://dalanzg.github.io/tips-tutorials/index.xml target=_blank><i class="fas fa-rss-square fa-2x"></i></a><a class=nav-link href=https://twitter.com/dalanzg target=_blank><i class="fab fa-twitter fa-2x"></i></a><a class=nav-link href=https://github.com/dalanzg target=_blank><i class="fab fa-github fa-2x"></i></a><a class=nav-link href=https://www.linkedin.com/in/danilanza target=_blank><i class="fab fa-linkedin fa-2x"></i></a></nav></p><p class=text-muted>Copyright &copy; Tips and Tutorials 2019</p><p class=text-muted><small>All rights reserved. Blog powered by <a href=https://gohugo.io/>Hugo</a> and hosted on <a href=https://www.github.com>GitHub.</a></small></p><p class=text-muted><small><a href=https://opensource.org/licenses/MIT>MIT License</a></small></p></footer><script src=https://dalanzg.github.io/tips-tutorials/js/bundle.min.110d3e1a6c79028aa1899125704a04f056b48a7862c0d9058732b1ab70451559.js></script></body></html>